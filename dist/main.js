(()=>{const e="http://127.0.0.1:8082/src/data/",n=e+"lifetime_rankings.json",t=e+"lifetime_sets.json",l=e+"lifetime_games.json",a=e+"seasonal_rankings.json",o=e+"seasonal_sets.json",s=e+"seasonal_games.json",i=document.getElementById("player-selection__submit"),r=document.getElementById("player_one"),g=document.getElementById("player_two"),p=(document.getElementById("data"),document.getElementById("progress-log"),"Player One"),u="Player Two",f="./public/images/fighters/",d="-00-full.png",c=" -- ";function m(e){return e.includes(" | ")&&(e=e.split(" | ").pop()),null==e&&(e=!1),e}function y(e){console.log(e)}function h(e,n){delete e[n].field1,delete e[n].field2,delete e[n].field21,delete e[n].field22}function _(e){let n=1,t="";for(console.group(),console.log(`counter: ${n}, generation: 48`);n<48;n++)t+=n%2==0?`<span class="tag_highlight">${e}</span>`:`${e}`,console.log(`tag_output: ${t}`);return console.groupEnd(),t}!async function(){try{y("Attempting to pull data...");const e=await fetch(n),w=await fetch(t),k=await fetch(l),S=await fetch(a),E=await fetch(o),I=await fetch(s);if(!e.ok)throw new Error(`She's broke bahd! Response status: ${e.status}`);if(!w.ok)throw new Error(`She's broke bahd! Response status: ${w.status}`);if(!k.ok)throw new Error(`She's broke bahd! Response status: ${k.status}`);if(!S.ok)throw new Error(`She's broke bahd! Response status: ${S.status}`);if(!E.ok)throw new Error(`She's broke bahd! Response status: ${E.status}`);if(!I.ok)throw new Error(`She's broke bahd! Response status: ${I.status}`);y("Responses OK, pulling data...");const T=await e.json(),b=await w.json(),$=await k.json(),B=await S.json(),x=await E.json(),L=await I.json();y("Creating Head 2 Head JSON: Building Player structure...");let R={};for(const e in T){let n=T[e].Player,t="";if(n.includes(" | ")){let e=n.split(" | ");n=e[1],t=e[0]}R[n]={Characters:T[e].Characters,Country:T[e].Country,GameData:{Lifetime:{},Seasonal:{}},PlayerName:n,PowerRanking:{Lifetime:{Points:T[e].Points,Rank:T[e].Rank},Seasonal:{Points:"",Rank:""}},Tag:t,SetData:{Lifetime:{},Seasonal:{}}}}y("Creating Head 2 Head JSON: Seasonal Rankings...");for(const e in B){let n=B[e].Player,t=B[e].Points,l=B[e].Rank;n=m(n),R[n].PowerRanking.Seasonal.Points=t,R[n].PowerRanking.Seasonal.Rank=l}y("Data cleaning: Deleteing header arrays...");const H=b[0],P=$[0],D=x[0],j=L[0];delete b[0],delete $[0],delete x[0],delete L[0],y("Data cleaning: Lifetime Sets...");for(const e in b){let n=b[e].field2;null!=n&&(n=m(n),b[n]=b[e],delete b[e])}y("Data cleaning: Lifetime Games...");for(const e in $){let n=$[e].field2;null!=n&&(n=m(n),$[n]=$[e],delete $[e])}y("Data cleaning: Seasonal Sets...");for(const e in x){let n=x[e].field2;null!=n&&(n=m(n),x[n]=x[e],delete x[e])}y("Data cleaning: Seasonal Games...");for(const e in L){let n=L[e].field2;null!=n&&(n=m(n),L[n]=L[e],delete L[e])}y("Data cleaning: Key replacements for Lifetime Sets...");for(const e in b)for(const n in b[e]){let t=b[e][n],l=H[n];l=m(l),b[e][l]=t,delete b[e][n]}y("Data cleaning: Key replacements for Lifetime Games...");for(const e in $)for(const n in $[e]){let t=$[e][n],l=P[n];l=m(l),$[e][l]=t,delete $[e][n]}y("Data cleaning: Key replacements for Seasonal Sets...");for(const e in x)for(const n in x[e]){let t=x[e][n],l=D[n];l=m(l),x[e][l]=t,delete x[e][n]}y("Data cleaning: Key replacements for Seasonal Games...");for(const e in L)for(const n in L[e]){let t=L[e][n],l=j[n];l=m(l),L[e][l]=t,delete L[e][n]}y("Creating Head 2 Head JSON: Adding Lifetime Sets data...");for(const e in b)0==e?delete b[e]:(h(b,e),R[e].SetData.Lifetime=b[e]);y("Creating Head 2 Head JSON: Adding Seasonal Set data...");for(const e in x)0==e?delete x[e]:(h(x,e),R[e].SetData.Seasonal=x[e]);y("Creating Head 2 Head JSON: Adding Lifetime Game data...");for(const e in $)0==e?delete $[e]:(h($,e),R[e].GameData.Lifetime=$[e]);y("Creating Head 2 Head JSON: Adding Seasonal Game data...");for(const e in L)0==e?delete L[e]:(h(L,e),R[e].GameData.Seasonal=L[e]);y("Head 2 Head JSON compiled, creating list of Players..."),r.innerHTML+=`<option>${p}</option>`,g.innerHTML+=`<option>${u}</option>`;for(const e in R){let n=R[e].PlayerName,t=R[e].Rank;r.innerHTML+=`<option value="${t}">${n}</option>`,g.innerHTML+=`<option value="${t}">${n}</option>`}y("Finishing up..."),i.addEventListener("click",(function(){if(e=g,r.value!=p&&e.value!==u){window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"});let e=r.options[r.selectedIndex].innerText,n=g.options[g.selectedIndex].innerText,t=R[e].Tag,l=R[n].Tag,a=R[e].Characters.split(" - "),o=f+a[0]+d,s=f+a[1]+d,i=R[n].Characters.split(" - "),p=f+i[0]+d,u=f+i[1]+d,m=R[e].PowerRanking.Seasonal.Rank,y=R[e].PowerRanking.Seasonal.Points,h=R[n].PowerRanking.Seasonal.Rank,w=R[n].PowerRanking.Seasonal.Points,k=R[e].SetData.Seasonal[n],S=R[e].GameData.Seasonal[n],E=R[e].SetData.Lifetime[n],I=R[e].GameData.Lifetime[n];if(null!=k&&"0 -- 0"!=k){let a=k.split(c),i=S.split(c),r=E.split(c),g=I.split(c),f=r[0],d=g[0],T=(a[0],i[0]),b=r[1],$=g[1],B=(a[1],i[1]),x=parseInt(a[0]),L=parseInt(a[1]),R=parseInt(i[0]),H=parseInt(i[1]),P=Math.round(x/(x+L)*100),D=(Math.round(R/(R+H)*100),parseInt(r[0])),j=parseInt(r[1]),C=parseInt(g[0]),v=parseInt(g[1]),G=100-P;Math.round(D/(D+j)*100),Math.round(C/(C+v)*100),o=o.replace(" ","-").toLowerCase(),s=s.replace(" ","-").toLowerCase(),p=p.replace(" ","-").toLowerCase(),u=u.replace(" ","-").toLowerCase();const M=document.getElementById("player_one_character"),N=document.getElementById("player_two_character"),O=document.getElementById("player_one_name"),A=document.getElementById("player_two_name"),J=document.getElementById("player_one_tag"),K=document.getElementById("player_two_tag"),q=document.getElementById("player_one_pr"),z=document.getElementById("player_two_pr"),F=document.getElementById("player_one_seasonal_points"),Q=document.getElementById("player_two_seasonal_points"),U=document.querySelectorAll(".sets"),V=document.querySelectorAll(".games"),W=document.getElementById("lifetime_title"),X=document.getElementById("player_one_lifetime_sets"),Y=document.getElementById("player_two_lifetime_sets"),Z=document.getElementById("player_one_lifetime_games"),ee=document.getElementById("player_two_lifetime_games"),ne=document.getElementById("seasonal_title"),te=document.getElementById("player_one_seasonal_sets"),le=document.getElementById("player_two_seasonal_sets"),ae=document.getElementById("player_one_seasonal_games"),oe=document.getElementById("player_two_seasonal_games");document.getElementById("main_logo").style.display="block",M.src=o,N.src=p,J.innerHTML=_(t),K.innerHTML=_(l),O.innerText=e,A.innerText=n,q.innerText=`#${m}`,z.innerText=`#${h}`,F.innerText=`${y}`,Q.innerText=`${w}`,U.forEach((e=>{e.innerText="Sets"})),V.forEach((e=>{e.innerText="Games"})),ne.innerText="Seasonal",te.innerText=`${P}%`,le.innerText=`${G}%`,ae.innerText=`${T}`,oe.innerText=`${B}`,W.innerText="Lifetime",X.innerText=`${f}`,Y.innerText=`${b}`,Z.innerText=`${d}`,ee.innerText=`${$}`}else seasonal_sets_title.innerText="These players have not played a set this season!",console.log("These players have not played a set this season!")}var e})),y("Ready! Awaiting player selection."),console.group("Head 2 Head"),console.log(R),console.groupEnd();{r.options.selectedIndex=1,g.options.selectedIndex=2;let e=new Event("click");i.dispatchEvent(e);const n=["banjo-and-kazooie-00-full.png","pyra-00-full.png","mythra-00-full.png","bayonetta-00-full.png","bowser-00-full.png","bowser-jr-00-full.png","byleth-00-full.png","captain-falcon-00-full.png","chrom-00-full.png","cloud-00-full.png","corrin-00-full.png","daisy-00-full.png","dark-pit-00-full.png","dark-samus-00-full.png","diddy-kong-00-full.png","donkey-kong-00-full.png","dr-mario-00-full.png","duck-hunt-00-full.png","falco-00-full.png","fox-00-full.png","ganondorf-00-full.png","greninja-00-full.png","hero-00-full.png","ice-climbers-00-full.png","ike-00-full.png","incineroar-00-full.png","inkling-00-full.png","isabelle-00-full.png","jigglypuff-00-full.png","joker-00-full.png","kazuya-00-full.png","ken-00-full.png","king-dedede-00-full.png","king-k-rool-00-full.png","kirby-00-full.png","link-00-full.png","little-mac-00-full.png","lucario-00-full.png","lucas-00-full.png","lucina-00-full.png","luigi-00-full.png","mario-00-full.png","marth-00-full.png","mega-man-00-full.png","meta-knight-00-full.png","mewtwo-00-full.png","mii-brawler-00-full.png","mii-gunner-00-full.png","mii-swordfighter-00-full.png","min-min-00-full.png","mr-game-and-watch-00-full.png","ness-00-full.png","olimar-00-full.png","pac-man-00-full.png","palutena-00-full.png","peach-00-full.png","pichu-00-full.png","pikachu-00-full.png","piranha-plant-00-full.png","pit-00-full.png","pokemon-trainer-00-full.png","pyra-and-mythra-00-full.png","richter-00-full.png","ridley-00-full.png","rob-00-full.png","robin-00-full.png","rosalina-and-luma-00-full.png","roy-00-full.png","ryu-00-full.png","samus-00-full.png","sephiroth-00-full.png","sheik-00-full.png","shulk-00-full.png","simon-00-full.png","snake-00-full.png","sonic-00-full.png","sora-00-full.png","steve-00-full.png","terry-00-full.png","toon-link-00-full.png","villager-00-full.png","wario-00-full.png","wii-fit-trainer-00-full.png","wolf-00-full.png","yoshi-00-full.png","young-link-00-full.png","zelda-00-full.png","zero-suit-samus-00-full.png"];let t=document.querySelector(".p1_character"),l=document.querySelector(".p2_character"),a=0;document.addEventListener("keydown",(e=>{"Space"==e.code&&(t.src=f+n[a],l.src=f+n[a],a==n.length-1?a=0:a++)}))}}catch(e){console.error(e.message)}}()})();