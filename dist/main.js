!async function(){const e=document.querySelectorAll("select"),t=document.getElementById("player_one"),s=document.getElementById("player_two"),a=document.getElementById("data");try{const n=await fetch("http://127.0.0.1:8082/src/data/all_time_sets.json");if(!n.ok)throw new Error(`Response status: ${n.status}`);const o=await n.json(),l=o,r=o[0],p=[];for(const e in r)p.push([e,r[e]]);p.forEach((e=>{""!=e[1]&&(t.innerHTML+=`<option value="${e[0]}">${e[1]}</option>`,s.innerHTML+=`<option value="${e[0]}">${e[1]}</option>`)})),e.forEach((e=>{e.addEventListener("change",(function(){let n=t.value,o=s.value,r=t.options[t.selectedIndex].innerText,p=s.options[s.selectedIndex].innerText,c=l[n][o].replace(" -- ","|").split("|"),i=parseFloat(c[0])/(parseFloat(c[0])+parseFloat(c[1])),d=parseFloat(c[1])/(parseFloat(c[0])+parseFloat(c[1]));console.group(`New player selected for ${e.name}!`),console.log(`${r} (${n}) VS ${p} (${o})`),console.log(`${c[0]} : ${c[1]}`),console.groupEnd(),a.innerHTML=`\n                <article class="player-stats">\n                    <p class="player-stats__player_name">${r}</p>\n                    <p class="player-stats__versus">VS</p>\n                    <p class="player-stats__player_name">${p}</p>\n                </article>\n                <article class="player-stats">\n                    <p class="player-stats__sets">${(100*i).toFixed(2)}%</p>    \n                    <p class="player-stats__sets">${c[0]} -- ${c[1]}</p>\n                    <p class="player-stats__sets">${(100*d).toFixed(2)}%</p>\n                </article>\n                `}))}))}catch(e){console.error(e.message)}}();